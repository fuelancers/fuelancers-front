import{r as a}from"./index-c9aadc5c.js";const u=t=>{var r,c,i,n;const o={city:"",country:"",plain(){return(this.city?this.city+", ":"")+this.country}},s={name:"",lat:((c=(r=t==null?void 0:t.geometry)==null?void 0:r.location)==null?void 0:c.lat())||0,lng:((n=(i=t==null?void 0:t.geometry)==null?void 0:i.location)==null?void 0:n.lng())||0};return Array.isArray(t==null?void 0:t.address_components)?(t.address_components.forEach(e=>{e.types.includes("locality")&&(o.city=e.long_name),e.types.includes("country")&&(o.country=e.long_name)}),{...s,name:o.plain()}):{...s,name:o.plain()}};function y(t,o){const[s,r]=a.useState(t||{}),c=n=>{const e=n.getPlace();r(u(e))},i=()=>{if(!o.current)return;const n=new window.google.maps.places.Autocomplete(o.current);n.setFields(["address_component","geometry"]),n.addListener("place_changed",()=>c(n))};return a.useEffect(()=>{o.current&&i()},[o.current]),{location:s,setLocation:r}}export{y as u};
